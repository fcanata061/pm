nome: gcc
versao: 13.2.0
descricao: "GNU Compiler Collection completo (C, C++, Fortran, ObjC) - Stage2"
urls:
  tarball: "https://ftp.gnu.org/gnu/gcc/gcc-13.2.0/gcc-13.2.0.tar.xz"
sha256: "43e95b7d78f1d3a5a0f9153eafc2340c28b7a7fdf9f543b1b4b403eac0a1d2c3"

dependencias_build:
  - make
  - python3
  - flex
  - bison

dependencias_runtime:
  - glibc
  - libstdc++

flags_USE:
  - c++
  - fortran
  - objc

tipo_build: autotools
sandbox: true

hooks:
  pre_download:
    - echo "ðŸ”½ Baixando GCC e dependÃªncias internas..."
  pre_build:
    - echo "âš™ Preparando sandbox e diretÃ³rio de build..."
    - mkdir -p build
    - cd build
    # Baixar dependÃªncias internas
    - wget -c https://gmplib.org/download/gmp/gmp-6.3.0.tar.xz
    - wget -c https://www.mpfr.org/mpfr-4.2.0/mpfr-4.2.0.tar.xz
    - wget -c https://ftp.gnu.org/gnu/mpc/mpc-1.3.1.tar.gz
    - wget -c http://isl.gforge.inria.fr/isl-0.26.tar.xz
    # Extrair e renomear
    - tar -xf gmp-6.3.0.tar.xz
    - mv -v gmp-6.3.0 gmp
    - tar -xf mpfr-4.2.0.tar.xz
    - mv -v mpfr-4.2.0 mpfr
    - tar -xf mpc-1.3.1.tar.gz
    - mv -v mpc-1.3.1 mpc
    - tar -xf isl-0.26.tar.xz
    - mv -v isl-0.26 isl
  post_build:
    - echo "âœ… GCC build concluÃ­do!"
  post_install:
    - echo "ðŸš€ GCC instalado com sucesso!"
  post_remove:
    - echo "ðŸ—‘ GCC removido do sistema."

optional_commands:
  strip: true
  make_check: true

configure_flags:
  - "--prefix=/usr"
  - "--enable-languages=c,c++,fortran,objc"
  - "--disable-multilib"
